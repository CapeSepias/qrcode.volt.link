(this["webpackJsonpqrcode.volt.link"]=this["webpackJsonpqrcode.volt.link"]||[]).push([[0],{204:function(e,t,n){e.exports={app:"App_app__3hbGO"}},217:function(e,t,n){},430:function(e,t,n){var a={"./de.ftl":[432,3],"./en.ftl":[433,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=430,e.exports=r},431:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(9),c=n(2),o=n.n(c),l=n(203),i=n.n(l),s=(n(217),n(204)),u=n.n(s),d=n(16),j=n(76),b=n(107),p=n(41),h=n(3),f=function(e){return Object(h.jsx)(j.b,Object(d.a)(Object(d.a)({},e),{},{elems:Object(d.a)({br:Object(h.jsx)("br",{})},e.elems),children:Object(h.jsx)(o.a.Fragment,{children:e.children})}),e.id)};var g=n(15),v=n.n(g),O=n(30),m=n(57),x=n.n(m);var w=function(e){var t=e.ariaLabel,n=e.items,a=e.defaultValue,o=e.onChange,l=e.style,i=e.className,s=Object(c.useState)(),u=Object(r.a)(s,2),j=u[0],b=u[1];Object(c.useEffect)((function(){return b(a)}),[a,b]);var p=Object(c.useCallback)((function(e){var t=e.target.dataset.value;b(t),o&&o(t)}),[b,o]);return Object(h.jsx)("div",{"aria-label":t,className:"buttonRow "+(i||""),style:Object(d.a)({display:"inline-block"},l),children:n.map((function(e){var t=e.value,n=e.title,a=e.icon||null;return Object(h.jsx)("button",{className:"".concat(j===t?"choosen":""," ").concat(a?"hasIcon":""),onClick:p,"data-value":t,children:Object(h.jsxs)("span",{style:{pointerEvents:"none"},children:[a||null,Object(h.jsx)("span",{style:{verticalAlign:"middle"},children:n})]})},t)}))})},C=n(108),_=n.n(C),k=n(109),L=n(20),y=n(211);function E(e,t){var n=document.createElement("a");document.body.appendChild(n),n.download=e,n.href=t,n.click(),n.remove()}_.a.stringToBytes=_.a.stringToBytesFuncs["UTF-8"];var S={black:"#000000",white:"#ffffff",purple:"#502379",yellow:"#FDC220",green:"#1BBE6F",blue:"#82D0F4",red:"#E63E12"};function q(e){var t=e.content,n=e.size,a=e.errorCorrectionLevel,r=e.backgroundColor,c=e.foregroundColor,o=e.displayLogo;if("yes"===o?o=!0:"no"===o&&(o=!1),""===t)return{qrcode_svg:null,realCanvasSize:null};var l=parseInt(n),i=_()(0,a);i.addData(t),i.make();var s=i.getModuleCount(),u=Math.ceil(l/s),d=i.createSvgTag({cellSize:u,margin:1*u,scalable:!0}),j=s*u+2*u;if(!0===o){var b=.4*l,p=.5*j-.5*b;d=d.replace("</svg>",'\n        <svg x="'.concat(p,'" y="').concat(p,'" width="').concat(b,'" height="').concat(b,'" viewBox="0 0 2083 2083" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <rect width="2083" height="2083" rx="1041.5" fill="logo_bg"/>\n        <path d="M1653.47 1157.13V982.509H1782.78V865.558H1653.47V707.932L1512.84 730.219V1159.04C1512.84 1191.11 1515.78 1220.38 1521.81 1246.79C1527.77 1273.2 1538.29 1295.7 1553.44 1314.24C1568.52 1332.77 1588.67 1347.26 1613.83 1357.64C1638.98 1368.01 1670.76 1373.23 1709.15 1373.23C1739.38 1373.23 1764.83 1370.73 1785.57 1365.65C1806.32 1360.65 1825.22 1354.62 1842.21 1347.71L1822.35 1238.26C1809.11 1243.33 1794.55 1247.23 1778.44 1250.03C1762.41 1252.82 1746.81 1254.29 1731.73 1254.29C1700.25 1254.29 1679.36 1245.47 1668.99 1227.89C1658.62 1210.31 1653.47 1186.7 1653.47 1157.13Z" fill="logo_fg"/>\n        <path d="M642.687 1361.9C668.578 1307.25 694.175 1250.32 719.331 1191.18C744.486 1132.05 768.391 1073.57 791.046 1015.68C813.701 957.795 834.516 902.482 853.64 849.744C872.691 796.859 889.535 749.637 904.172 707.932H747.428C735.145 746.033 721.464 786.855 706.532 830.473C691.527 874.164 676.301 917.708 660.781 961.032C645.261 1004.43 630.183 1045.91 615.619 1085.63C601.055 1125.35 587.595 1159.55 575.311 1188.24C562.292 1159.33 548.611 1125.06 534.415 1085.34C520.146 1045.62 505.288 1004.06 489.768 960.737C474.248 917.414 458.949 873.87 443.944 830.252C428.939 786.561 415.331 745.812 403.121 707.932H240.787C254.689 749.416 271.165 796.638 290.289 849.523C309.413 902.409 330.303 957.722 353.104 1015.54C375.906 1073.35 399.958 1131.82 425.261 1190.89C450.564 1249.95 476.234 1306.96 502.272 1361.9H642.687Z" fill="logo_fg"/>\n        <path d="M1466.41 707.932L1325.78 730.219V1361.9H1466.41V707.932Z" fill="logo_fg"/>\n        <path d="M1286.51 1120.28C1286.51 979.568 1172.43 865.485 1031.72 865.485C973.684 865.485 920.211 884.904 877.402 917.488C865.486 949.337 852.982 981.995 839.816 1015.54C820.839 1063.93 801.053 1112.85 780.311 1162.13C800.391 1282.98 905.279 1375.07 1031.72 1375.07C1172.43 1375.07 1286.51 1260.99 1286.51 1120.28ZM1158.97 1120.28C1158.97 1189.93 1102.48 1246.42 1032.82 1246.42C963.166 1246.42 906.677 1189.93 906.677 1120.28C906.677 1050.62 963.166 994.132 1032.82 994.132C1102.48 994.132 1158.97 1050.62 1158.97 1120.28Z" fill="logo_fg"/>\n        </svg>\n      </svg>\n      '))}var h=r,f=c;f===h&&("white"===h?f="purple":h="white"),"white"!==f&&(h="white");var g="white",v="purple";"purple"===h&&"white"===f&&(g="purple",v="white");var O=S[h]||"white",m=S[f]||"black",x=S[g]||"white",w=S[v]||"black";return{qrcode_svg:d=d.replace(/fill="black"/g,'fill="'.concat(m,'"')).replace(/fill="white"/g,'fill="'.concat(O,'"')).replace(/fill="logo_bg"/g,'fill="'.concat(x,'"')).replace(/fill="logo_fg"/g,'fill="'.concat(w,'"')),realCanvasSize:j}}var F="LMQH".split(""),M={L:0,M:1,Q:2,H:3},z=null;var B,N=(B=function(e){var t=e.getString,n=Object(c.useRef)(null),a=Object(L.d)().search.substr(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{}),o=Object(c.useState)("1000"),l=Object(r.a)(o,2),i=l[0],s=l[1],u=Object(c.useState)(null),d=Object(r.a)(u,2),j=d[0],b=d[1],p=Object(c.useState)("M"),g=Object(r.a)(p,2),m=g[0],C=g[1],_=Object(c.useState)(a.c||""),S=Object(r.a)(_,2),B=S[0],N=S[1],V=Object(c.useState)(null),G=Object(r.a)(V,2),D=G[0],H=G[1],I=Object(c.useState)(null),T=Object(r.a)(I,2),R=T[0],U=T[1],W=Object(c.useState)("purple"),A=Object(r.a)(W,2),Z=A[0],P=A[1],Q=Object(c.useState)("purple"),J=Object(r.a)(Q,2),K=J[0],Y=J[1],X=Object(c.useState)("yes"),$=Object(r.a)(X,2),ee=$[0],te=$[1],ne=Object(c.useState)(!0),ae=Object(r.a)(ne,1)[0],re=Object(c.useState)(F.length-1),ce=Object(r.a)(re,2),oe=ce[0],le=ce[1],ie=Math.min(oe,F.length-1),se=F[F.length-1];se=M[m]<ie?F[ie]:m;var ue=Object(c.useCallback)((function(e){clearTimeout(z);var t=e.target.value;t.length<=0&&t.length>=1200?N(""):z=setTimeout((function(){N(t)}),400)}),[N]);Object(c.useEffect)((function(){function e(e,n){return t.apply(this,arguments)}function t(){return(t=Object(O.a)(v.a.mark((function t(a,r){var c,o,l,i,s,u,d,j;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=F[r],o=q({content:B,size:1e3,errorCorrectionLevel:c,backgroundColor:Z,foregroundColor:K,displayLogo:a}),l=o.qrcode_svg,i=o.realCanvasSize,null!==l){t.next=6;break}U(!1),t.next=14;break;case 6:return s=n.current,u=s.getContext("2d"),(d=k.a.fromString(u,l)).resize(i,i),t.next=12,d.render();case 12:j=s.toDataURL("image/jpeg"),y.a.scanImage(j).then((function(e){le(r),U(!0)})).catch((function(t){r<F.length-1?e(a,r+1):U(!1)}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e(ee,0)}),[B,Z,K,ee,n,U,le]),Object(c.useEffect)((function(){var e=q({content:B,size:i,errorCorrectionLevel:se,backgroundColor:Z,foregroundColor:K,displayLogo:!1!==ae&&ee}),t=e.qrcode_svg,n=e.realCanvasSize;b(n),H(t)}),[ae,se,B,i,Z,K,ee,b,H]);var de=function(){var e=Object(O.a)(v.a.mark((function e(){var t,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.current,a=t.getContext("2d"),(r=k.a.fromString(a,D)).resize(j,j),e.next=6,r.render();case 6:c=t.toDataURL("image/jpeg"),window.umami.trackEvent("E: jpeg"),window.umami.trackEvent("BG: "+Z),window.umami.trackEvent("FG: "+K),window.umami.trackEvent("Logo: "+ee),window.umami.trackEvent("ECL: "+m),window.umami.trackEvent("Size: "+i),window.umami.trackEvent("Length: "+Math.round(.1*B.length*10)),E("volt-qrcode.jpeg",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(O.a)(v.a.mark((function e(){var t,a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.current,a=t.getContext("2d"),(r=k.a.fromString(a,D)).resize(j,j),e.next=6,r.render();case 6:c=t.toDataURL("image/png"),window.umami.trackEvent("E: png"),window.umami.trackEvent("BG: "+Z),window.umami.trackEvent("FG: "+K),window.umami.trackEvent("Logo: "+ee),window.umami.trackEvent("ECL: "+m),window.umami.trackEvent("Size: "+i),window.umami.trackEvent("Length: "+Math.round(.1*B.length*10)),E("volt-qrcode.png",c);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=["purple","white","black"].map((function(e){return{value:e,title:t(e)}})),pe=["purple","white","black"];"white"!==K?pe=["white"]:"white"===K&&(pe=["purple","black"]),pe=pe.map((function(e){return{value:e,title:t(e)}}));var he=Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"foreground_color_headline"})}),Object(h.jsx)(w,{onChange:Y,ariaLabel:t("foreground_color_headline"),defaultValue:K,items:be}),Object(h.jsx)("br",{}),pe.length<=1?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"background_color_headline"})}),Object(h.jsx)(w,{onChange:P,ariaLabel:t("background_color_headline"),defaultValue:Z,items:pe}),Object(h.jsx)("br",{})]}),!0===ae?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"display_logo_headline"})}),Object(h.jsx)(w,{onChange:te,ariaLabel:t("display_logo_headline"),defaultValue:ee,items:[{value:"yes",title:t("label_display_logo_yes")},{value:"no",title:t("label_display_logo_no")}]}),Object(h.jsx)("br",{})]}):null,ie===F.length-1?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"error_correction_level_headline"})}),Object(h.jsx)(w,{onChange:C,ariaLabel:t("error_correction_level_headline"),defaultValue:se,items:F.slice(ie).map((function(e){return{value:e,title:t("label_error_correction_level_"+e)}}))}),Object(h.jsx)("br",{})]})]});return Object(h.jsxs)("div",{className:x.a.qrcodeWrapper,children:[Object(h.jsx)("h1",{children:Object(h.jsx)(f,{id:"website_title"})}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:Object(h.jsx)(f,{id:"text_content_input_info"})}),Object(h.jsx)("textarea",{className:x.a.qrcodeContentInput,placeholder:t("text_content_input_placeholder"),onChange:ue,style:{marginTop:"0"},defaultValue:B}),B.length>0?he:null,null===D?null:R?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:x.a.qrCodeSvgWrapper,dangerouslySetInnerHTML:{__html:D}}),Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"size_headline"})}),Object(h.jsx)(w,{onChange:s,ariaLabel:t("size_headline"),defaultValue:i,items:[{value:"500",title:"500px"},{value:"1000",title:"1000px"},{value:"2000",title:"2000px"},{value:"4000",title:"4000px"}]}),Object(h.jsx)("br",{}),Object(h.jsx)("h2",{children:Object(h.jsx)(f,{id:"download_headline"})}),Object(h.jsx)("button",{onClick:function(){var e="data:image/svg+xml;base64,"+btoa(D);window.umami.trackEvent("E: svg"),window.umami.trackEvent("BG: "+Z),window.umami.trackEvent("FG: "+K),window.umami.trackEvent("Logo: "+ee),window.umami.trackEvent("ECL: "+m),window.umami.trackEvent("Size: "+i),window.umami.trackEvent("Length: "+Math.round(.1*B.length*10)),E("volt-qrcode.svg",e)},className:"green "+x.a.downloadButton,children:Object(h.jsx)(f,{id:"svg_label"})}),Object(h.jsx)("button",{onClick:de,className:"green "+x.a.downloadButton,children:Object(h.jsx)(f,{id:"jpeg_label"})}),Object(h.jsx)("button",{onClick:je,className:"green "+x.a.downloadButton,children:Object(h.jsx)(f,{id:"png_label"})})]}):Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:Object(h.jsx)(f,{id:"error_qrcode_not_usable"})})}),Object(h.jsx)("canvas",{style:{display:"none"},ref:n})]})},function(e){var t=o.a.useContext(p.a);return o.a.createElement(B,Object(d.a)({fluentByObject:function(e,n){if(n||(n=null),e){var r,c=t.supportedLocales||[],o=Object.keys(e).filter((function(e){return c.includes(e)})),l=Object(b.a)(t.userLocales,o,{defaultLocale:t.defaultLocale}),i=Object(a.a)(l);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(e[s])return e[s]}}catch(u){i.e(u)}finally{i.f()}return n}return n},getString:function(e,n,a){return t.getString(e,n,a||" ")}},e))});var V=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:u.a.app,children:Object(h.jsx)(N,{})}),Object(h.jsxs)("footer",{children:[Object(h.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:Object(h.jsx)(f,{id:"contact"})}),"\xa0 \u2022 \xa0",Object(h.jsx)("a",{href:"https://github.com/voltbonn/qrcode.volt.link",target:"_blank",rel:"noreferrer",children:Object(h.jsx)(f,{id:"source_code"})})]})]})},G=n(143),D=(n(426),n(105)),H=n(94),I={de:"Deutsch",en:"English"},T=Object.keys(I),R="en";function U(e){return W.apply(this,arguments)}function W(){return(W=Object(O.a)(v.a.mark((function e(t){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(430)("./"+t+".ftl");case 2:return a=e.sent,e.next=5,fetch(a.default);case 5:return r=e.sent,e.next=8,r.text();case 8:return c=e.sent,e.abrupt("return",Object(D.a)({},t,new H.b(c)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(O.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(U));case 2:return n=e.sent,r=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",v.a.mark((function e(){var n,c,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(a.a)(t),e.prev=1,n.s();case 3:if((c=n.n()).done){e.next=11;break}return o=c.value,(l=new H.a(o)).addResource(r[o]),e.next=9,l;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.userLocales,n=e.children,a=e.onLocaleChange,o=Object(c.useState)(function(){var e=new H.a("");return e.addResource(new H.b("")),new j.c([e])}()),l=Object(r.a)(o,2),i=l[0],s=l[1];return Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(v.a.mark((function e(){var n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(b.a)(t,T,{defaultLocale:R}),a&&a(n),e.next=4,A(n);case 4:r=e.sent,(c=new j.c(r())).userLocales=t,c.defaultLocale=R,c.supportedLocales=T,s(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),i?Object(h.jsx)(j.a,{l10n:i,children:n}):Object(h.jsx)("div",{children:"Loading texts\u2026"})}function Q(){var e=Object(c.useState)(navigator.languages),t=Object(r.a)(e,2),n=t[0],o=t[1],l=Object(c.useState)(null),i=Object(r.a)(l,2),s=i[0],u=i[1];Object(c.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,c=(r=r.toLowerCase()).split("-")[0];c!==r&&window.umami.trackEvent("L: "+c),window.umami.trackEvent("L: "+r)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var d=Object(c.useCallback)((function(e){o([e.target.dataset.locale])}),[o]),j=Object(c.useCallback)((function(e){u(e.length>0?e[0]:"")}),[u]);return Object(h.jsx)(P,{userLocales:n,onLocaleChange:j,children:Object(h.jsx)(V,{locales:I,currentLocale:s,onLanguageChange:d})},"AppLocalizationProvider")}window.domains={frontend:"http://localhost:3000/",backend:"http://localhost:4000/"},i.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(G.a,{children:Object(h.jsx)(Q,{})})}),document.getElementById("root"))},57:function(e,t,n){e.exports={qrcodeWrapper:"Generator_qrcodeWrapper__1MUQn",qrcodeContentInput:"Generator_qrcodeContentInput__1C_pN",qrCodeSvgWrapper:"Generator_qrCodeSvgWrapper__1NpDK",downloadButton:"Generator_downloadButton__FFIYG"}}},[[431,1,2]]]);
//# sourceMappingURL=main.95193696.chunk.js.map