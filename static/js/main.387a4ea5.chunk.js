(this["webpackJsonpqrcode.volt.link"]=this["webpackJsonpqrcode.volt.link"]||[]).push([[0],{23:function(e,t,n){e.exports={qrcodeWrapper:"Generator_qrcodeWrapper__1MUQn",qrcodeContentInput:"Generator_qrcodeContentInput__1C_pN",downloadButton:"Generator_downloadButton__FFIYG"}},41:function(e,t,n){e.exports={app:"App_app__3hbGO"}},49:function(e,t,n){},82:function(e,t,n){var a={"./de.ftl":[86,3],"./en.ftl":[87,4]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=82,e.exports=r},85:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(2),c=n(0),o=n.n(c),l=n(40),s=n.n(l),i=(n(49),n(41)),u=n.n(i),j=n(5),b=n(20),d=n(28),f=n(10),p=n(1),O=function(e){return Object(p.jsx)(b.b,Object(j.a)(Object(j.a)({},e),{},{elems:Object(j.a)({br:Object(p.jsx)("br",{})},e.elems),children:Object(p.jsx)(o.a.Fragment,{children:e.children})}),e.id)};var v=n(23),h=n.n(v);var x=function(e){var t=e.ariaLabel,n=e.items,a=e.defaultValue,o=e.onChange,l=e.style,s=e.className,i=Object(c.useState)(),u=Object(r.a)(i,2),b=u[0],d=u[1];Object(c.useEffect)((function(){return d(a)}),[a,d]);var f=Object(c.useCallback)((function(e){var t=e.target.dataset.value;d(t),o&&o(t)}),[d,o]);return Object(p.jsx)("div",{"aria-label":t,className:"buttonRow "+(s||""),style:Object(j.a)({display:"inline-block"},l),children:n.map((function(e){var t=e.value,n=e.title,a=e.icon||null;return Object(p.jsx)("button",{className:"".concat(b===t?"choosen":""," ").concat(a?"hasIcon":""),onClick:f,"data-value":t,children:Object(p.jsxs)("span",{style:{pointerEvents:"none"},children:[a||null,Object(p.jsx)("span",{style:{verticalAlign:"middle"},children:n})]})},t)}))})},g=n(42),m=n.n(g);function w(e,t){var n=document.createElement("a");document.body.appendChild(n),n.download=e,n.href=t,n.click(),n.remove()}var _,k=(_=function(e){var t=e.getString,n=Object(c.useState)("m"),a=Object(r.a)(n,2),o=a[0],l=a[1],s=Object(c.useState)("svg"),i=Object(r.a)(s,2),u=i[0],j=i[1],b=Object(c.useState)(null),d=Object(r.a)(b,2),f=d[0],v=d[1];console.log("errorCorrectionLevel",o),console.log("filetype",u);var g=Object(c.useCallback)((function(e){var t=e.target.value;"svg"===u?m.a.toString(t,{errorCorrectionLevel:o,type:"svg",scale:1,margin:1,color:{light:"#ffffff",dark:"#502379"}},(function(e,t){e?(console.error(e),v(null)):v(t)})):v(null)}),[u,v,o]),_=Object(c.useCallback)((function(){"svg"===u?w("volt-qrcode.svg","data:image/svg+xml;base64,"+btoa(f)):w("volt-qrcode.png","data:image/png;base64,")}),[u,f]);return Object(p.jsxs)("div",{className:h.a.qrcodeWrapper,children:[Object(p.jsx)("h1",{children:Object(p.jsx)(O,{id:"website_title"})}),Object(p.jsx)("textarea",{className:h.a.qrcodeContentInput,placeholder:t("text_content_input_placeholder"),onChange:g}),Object(p.jsx)("h2",{children:Object(p.jsx)(O,{id:"filetype_headline"})}),Object(p.jsx)(x,{onChange:j,ariaLabel:t("filetype_headline"),defaultValue:u,items:[{value:"svg",title:"SVG"},{value:"png",title:"PNG"}]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("h2",{children:Object(p.jsx)(O,{id:"error_correction_level_headline"})}),Object(p.jsx)(x,{onChange:l,ariaLabel:t("error_correction_level_headline"),defaultValue:o,items:[{value:"L",title:"Low ~7%"},{value:"M",title:"Medium ~15%"},{value:"Q",title:"Quartile ~25%"},{value:"H",title:"High ~30%"}]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),null===f?null:Object(p.jsxs)(p.Fragment,{children:["svg"===u?Object(p.jsx)("span",{className:h.a.svgWrapper,dangerouslySetInnerHTML:{__html:f}}):Object(p.jsx)("img",{src:f,alt:""}),Object(p.jsx)("button",{onClick:_,className:"green "+h.a.downloadButton,children:"Download"})]})]})},function(e){var t=o.a.useContext(f.a);return o.a.createElement(_,Object(j.a)({fluentByObject:function(e,n){if(n||(n=null),e){var r,c=t.supportedLocales||[],o=Object.keys(e).filter((function(e){return c.includes(e)})),l=Object(d.a)(t.userLocales,o,{defaultLocale:t.defaultLocale}),s=Object(a.a)(l);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(e[i])return e[i]}}catch(u){s.e(u)}finally{s.f()}return n}return n},getString:function(e,n,a){return t.getString(e,n,a||" ")}},e))});var y=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:u.a.app,children:Object(p.jsx)(k,{})}),Object(p.jsxs)("footer",{children:[Object(p.jsx)("a",{href:"mailto:thomas.rosen@volteuropa.org",children:Object(p.jsx)(O,{id:"contact"})}),"\xa0 \u2022 \xa0",Object(p.jsx)("a",{href:"https://github.com/voltbonn/qrcode.volt.link",target:"_blank",rel:"noreferrer",children:Object(p.jsx)(O,{id:"source_code"})})]})]})},L=n(44),C=(n(78),n(26)),S=n(7),E=n.n(S),N=n(13),q=n(24),G={de:"Deutsch",en:"English"},I=Object.keys(G),F="en";function M(e){return A.apply(this,arguments)}function A(){return(A=Object(N.a)(E.a.mark((function e(t){var a,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(82)("./"+t+".ftl");case 2:return a=e.sent,e.next=5,fetch(a.default);case 5:return r=e.sent,e.next=8,r.text();case 8:return c=e.sent,e.abrupt("return",Object(C.a)({},t,new q.b(c)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(N.a)(E.a.mark((function e(t){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(M));case 2:return n=e.sent,r=n.reduce((function(e,t){return Object.assign(e,t)})),e.abrupt("return",E.a.mark((function e(){var n,c,o,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(a.a)(t),e.prev=1,n.s();case 3:if((c=n.n()).done){e.next=11;break}return o=c.value,(l=new q.a(o)).addResource(r[o]),e.next=9,l;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){var t=e.userLocales,n=e.children,a=e.onLocaleChange,o=Object(c.useState)(function(){var e=new q.a("");return e.addResource(new q.b("")),new b.c([e])}()),l=Object(r.a)(o,2),s=l[0],i=l[1];return Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(E.a.mark((function e(){var n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)(t,I,{defaultLocale:F}),a&&a(n),e.next=4,B(n);case 4:r=e.sent,(c=new b.c(r())).userLocales=t,c.defaultLocale=F,c.supportedLocales=I,i(c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),s?Object(p.jsx)(b.a,{l10n:s,children:n}):Object(p.jsx)("div",{children:"Loading texts\u2026"})}function V(){var e=Object(c.useState)(navigator.languages),t=Object(r.a)(e,2),n=t[0],o=t[1],l=Object(c.useState)(null),s=Object(r.a)(l,2),i=s[0],u=s[1];Object(c.useEffect)((function(){if(window.umami){var e=navigator.languages;if(e||Array.isArray(e)){var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,c=(r=r.toLowerCase()).split("-")[0];c!==r&&window.umami.trackEvent("L: "+c),window.umami.trackEvent("L: "+r)}}catch(o){n.e(o)}finally{n.f()}}}}),[]);var j=Object(c.useCallback)((function(e){o([e.target.dataset.locale])}),[o]),b=Object(c.useCallback)((function(e){u(e.length>0?e[0]:"")}),[u]);return Object(p.jsx)(P,{userLocales:n,onLocaleChange:b,children:Object(p.jsx)(y,{locales:G,currentLocale:i,onLanguageChange:j})},"AppLocalizationProvider")}window.domains={frontend:"http://localhost:3000/",backend:"http://localhost:4000/"},s.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(L.a,{children:Object(p.jsx)(V,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.387a4ea5.chunk.js.map